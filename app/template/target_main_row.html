<tr id="target-{{ t.ip | replace('.', '-') }}-{{ t.port }}" class="target-row"
    onclick="toggleRow('{{ t.ip }}', '{{ t.port }}')">
    <td style="text-align: center; cursor: pointer;">
        <span id="icon-{{ t.ip | replace('.', '-') }}-{{ t.port }}"
            style="transition: transform 0.3s; display: inline-block;">â–¶</span>
    </td>
    <td title="{{ t.ip }}">{{ t.name if t.name else t.ip }}</td>
    <td>{{ t.port }}</td>
    <td>{{ t.user }}</td>
    <td title="{{ t.key_path if t.key_path else '' }}">{{ os.path.basename(t.key_path) if
        t.key_path else 'None' }}</td>
    <td class="status-cell" data-status="{{ t.status }}">
        {{ t.status }}
    </td>
    <td onclick="event.stopPropagation()">
        {% if t.status == 'connected' %}
        <button class="btn btn-secondary btn-sm" onclick="disconnect('{{ t.ip }}', '{{ t.port }}')">Disconnect</button>
        {% else %}
        <button class="btn btn-primary btn-sm" onclick="connect('{{ t.ip }}', '{{ t.port }}')">Connect</button>
        {% endif %}
        <button class="btn btn-secondary btn-sm" onclick="updatePassword('{{ t.ip }}', '{{ t.port }}')">Pwd</button>
        <button class="btn btn-secondary btn-sm" title="å»ºç«‹æ–‡ä»¶å¿«ç…§åŸºçº¿"
            onclick="snapshotFiles('{{ t.ip }}', '{{ t.port }}')">ğŸ“¸</button>
        <button class="btn btn-danger btn-sm" title="æ‰«æåé—¨/ä¸æ­»é©¬"
            onclick="scanBackdoor('{{ t.ip }}', '{{ t.port }}')">ğŸ”</button>
        <button class="btn btn-secondary btn-sm" title="Rerun Preload Tasks"
            onclick="rerunPreload('{{ t.ip }}', '{{ t.port }}')">â™»ï¸</button>
        <button class="btn btn-sm btn-secondary" title="Rerun Backup"
            onclick="rerunBackup('{{ t.ip }}', '{{ t.port }}')">
            ğŸ’¾
        </button>
        <button class="btn btn-sm btn-secondary" title="è¿˜åŸå¤‡ä»½"
            onclick="restoreBackup('{{ t.ip }}', '{{ t.port }}')">âª</button>
        <button class="btn btn-success btn-sm" onclick="openConsoleTab('{{ t.ip }}', '{{ t.port }}')">Console</button>
        {% if t.wwwdata_shell %}
        <button class="btn btn-sm" style="background: #e67e22; color: white;" title="www-data æƒé™ç»ˆç«¯"
            onclick="openWwwdataTab('{{ t.ip }}', '{{ t.port }}')">www-data</button>
        <button class="btn btn-sm" style="background: #d35400; color: white;" title="Xshell (www-data)"
            onclick="openXshellWwwData('{{ t.ip }}', '{{ t.port }}')">Xshell(w)</button>
        {% endif %}
        {% if t.aoi_deployed %}
        <a href="http://localhost:8037/" target="_blank" class="btn btn-sm"
            style="background: #9b59b6; color: white; text-decoration: none; cursor: pointer;" title="AOI ç®¡ç†é¢æ¿"
            onclick="event.stopPropagation()">ğŸ›¡ï¸AOI</a>
        {% endif %}
        <button class="btn btn-warning btn-sm" onclick="openXshell('{{ t.ip }}', '{{ t.port }}')">Xshell</button>
        <button class="btn btn-danger btn-sm" onclick="removeTarget('{{ t.ip }}', '{{ t.port }}')">Del</button>
    </td>
</tr>